{
  "query": "CREATE TABLE `emailSequences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(200) NOT NULL,\n\t`description` text,\n\t`targetScoreMin` int NOT NULL DEFAULT 0,\n\t`targetScoreMax` int NOT NULL DEFAULT 100,\n\t`targetStatus` enum('new','contacted','qualified','converted','closed'),\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `emailSequences_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceEmails` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sequenceId` int NOT NULL,\n\t`stepNumber` int NOT NULL,\n\t`delayDays` int NOT NULL,\n\t`subject` varchar(500) NOT NULL,\n\t`body` text NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceEmails_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `leadEmailLog` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`sequenceId` int,\n\t`sequenceEmailId` int,\n\t`subject` varchar(500) NOT NULL,\n\t`body` text NOT NULL,\n\t`sentAt` timestamp NOT NULL DEFAULT (now()),\n\t`status` enum('sent','failed','bounced') NOT NULL DEFAULT 'sent',\n\t`errorMessage` text,\n\tCONSTRAINT `leadEmailLog_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_sequenceId_emailSequences_id_fk` FOREIGN KEY (`sequenceId`) REFERENCES `emailSequences`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_sequenceEmailId_sequenceEmails_id_fk` FOREIGN KEY (`sequenceEmailId`) REFERENCES `sequenceEmails`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `sequenceEmails` ADD CONSTRAINT `sequenceEmails_sequenceId_emailSequences_id_fk` FOREIGN KEY (`sequenceId`) REFERENCES `emailSequences`(`id`) ON DELETE cascade ON UPDATE no action;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3GqTCRF1Mde1hAa.root --database fEiLqrWk8vPDApbQ8Y7ZbT --execute CREATE TABLE `emailSequences` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(200) NOT NULL,\n\t`description` text,\n\t`targetScoreMin` int NOT NULL DEFAULT 0,\n\t`targetScoreMax` int NOT NULL DEFAULT 100,\n\t`targetStatus` enum('new','contacted','qualified','converted','closed'),\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `emailSequences_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `sequenceEmails` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`sequenceId` int NOT NULL,\n\t`stepNumber` int NOT NULL,\n\t`delayDays` int NOT NULL,\n\t`subject` varchar(500) NOT NULL,\n\t`body` text NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `sequenceEmails_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `leadEmailLog` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`leadId` int NOT NULL,\n\t`sequenceId` int,\n\t`sequenceEmailId` int,\n\t`subject` varchar(500) NOT NULL,\n\t`body` text NOT NULL,\n\t`sentAt` timestamp NOT NULL DEFAULT (now()),\n\t`status` enum('sent','failed','bounced') NOT NULL DEFAULT 'sent',\n\t`errorMessage` text,\n\tCONSTRAINT `leadEmailLog_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_leadId_leads_id_fk` FOREIGN KEY (`leadId`) REFERENCES `leads`(`id`) ON DELETE cascade ON UPDATE no action;\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_sequenceId_emailSequences_id_fk` FOREIGN KEY (`sequenceId`) REFERENCES `emailSequences`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `leadEmailLog` ADD CONSTRAINT `leadEmailLog_sequenceEmailId_sequenceEmails_id_fk` FOREIGN KEY (`sequenceEmailId`) REFERENCES `sequenceEmails`(`id`) ON DELETE set null ON UPDATE no action;\nALTER TABLE `sequenceEmails` ADD CONSTRAINT `sequenceEmails_sequenceId_emailSequences_id_fk` FOREIGN KEY (`sequenceId`) REFERENCES `emailSequences`(`id`) ON DELETE cascade ON UPDATE no action;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3429
}